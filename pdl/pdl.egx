import "templates/pdl.eol";

rule Project2MkdocsYaml
    transform project : Project {
    
    template: "templates/mkdocs.yml.egl"
    
    target: "../mkdocs/mkdocs.yml"
}

rule Homepage
    transform project : Project {
    
    template: "templates/homepage.egl"
    
    target: "../mkdocs/docs/index.md"
}

rule WP2Page
    transform wp : WP {

    template: "templates/wp.egl"
    
    target: "../mkdocs/docs/wp/" + wp.getIndex() + "/index.md"
}

rule Task2Page
    transform task : Task {

    template: "templates/task.egl"
    
    target: "../mkdocs/docs/wp/" + task.eContainer().getIndex() + "/task/" + task.getIndex() + "/index.md"
}

rule Partner2Page
    transform partner : Partner {

    template: "templates/partner.egl"

    target: "../mkdocs/docs/partner/" + partner.name.toLowerCase() + "/index.md"
}

rule UseCase2Page
    transform usecase : UseCase {

    template: "templates/usecase.egl"

    target: "../mkdocs/docs/usecase/" + usecase.eContainer().name.toLowerCase() + "/index.md"
}